const icon = (() => {
  let change = document.querySelector("#menu-gf-icon");
  addEventListener("click", () => {
    let open = document.querySelector("[data-gf-menu]");
    change.classList.toggle("menu-gf-icon-open");
    open.classList.toggle("open");
  });
})();
//imagnes cuadradas
const crop = () => {
  let elemento = document.querySelectorAll("[data-gf-crop]");
  for (i = 0; i < elemento.length; i++) {
    let width = document.querySelector("[data-gf-crop]").clientWidth;
    elemento[i].style.height = width + "px";
  }
};
window.addEventListener("resize", () => {
  crop();
});
crop();
//lightbox
const lightbox = (() => {
  let images = document.querySelectorAll("[data-gf-lightbox]");
  images.forEach(el => {
    el.addEventListener("click", e => {
      e.preventDefault();
      let overlay = document.createElement("div");
      overlay.innerHTML = `<p class="gf-lightbox-close"><i class="icon-circle-close"></i></p><div id="gf-content"><img src="${el}" /></div>`;
      overlay.id = "gf-lightbox";
      document.body.appendChild(overlay);
      let cerrar = document.querySelector("p");
      cerrar.onclick = () => {
        document.body.removeChild(overlay);
      };
    });
  });
})();
//animacion
const animation = (() => {
  let element = document.querySelectorAll("[data-gf]");
  window.addEventListener("scroll", () => {
    let classElement = document
      .querySelector("[data-gf]")
      .getAttribute("data-animation-gf");
    let top = document.getElementsByTagName("html")[0].scrollTop;
    for (i = 0; i < element.length; i++) {
      let topEl = element[i].offsetTop;
      if (top > topEl - 400) {
        element[i].classList.add(classElement);
      }
    }
  });
})();
